<form id="btc_withdraw" class="form form-horizontal" ng-controller="WithdrawsController as withdrawsCtrl" ng-submit="withdrawsCtrl.createWithdraw(currency)">
  <div class="ovh mt20">
      <div class="col-xs-2">
          <div class="t-up fs13 opacity5 mb15">Available balance:</div>
          <div class="av-w-balance">
              <span class="currency-balance" id="withdraw_balance">{{balance}}</span><span class="opacity5">ETH</span>
          </div>
      </div>
      <div class="col-xs-4">
          <div class="t-up fs13 opacity5 mb7">withdrawal amount:</div>
          <input class="numeric decimal required form-control acc-input" id="withdraw_sum" min="0" name="withdraw[sum]" placeholder="{{'funds.withdraw_coin.min' | t}} 0.001" step="any" type="number" value="0.0" ng-model="withdrawsCtrl.withdraw.sum">
          <!-- <div class="input-group-btn"><button ng-click="withdrawsCtrl.withdrawAll()" class="btn btn-success" id="withdraw_all_btn" type="button">{{"funds.withdraw_coin.withdraw_all" | t}}</button></div> -->
      </div>
      <div class="col-xs-4">
          <div class="t-up fs13 opacity5 mb10">you will get:</div>
          <span class="fs24">12.0900000</span> <span class="opacity5">ETH</span>
      </div>
  </div>
  <div class="ovh mt15">
      <div class="col-xs-7">
          <div class="t-up fs13 opacity5 mb7">Ethereum address:</div>
          <div class="form-group">
            <div class="col-sm-12" ng-if="fund_sources().length">
        
              <select id="fund_source" class="select required form-control" name="fund_source"
                ng-model="selected_fund_source_id"
                ng-model-options="{ getterSetter: true }"
                ng-options="fs.id as fs.label for fs in fund_sources()"
                required>
              </select>
        
            </div>
            <span class="col-sm-6 help-block"><a href="javascript:;" ng-click="openFundSourceManagerPanel()" ng-bind="'funds.withdraw_coin.manage_withdraw' | t"></a></span>
          </div>
      </div>
  </div>
  <ng-include src="'/templates/funds/_two_factor_auth.html'"></ng-include>
  <div class="green-but w mt25 w230">
      <div class="icon"></div>
      <input  id="withdraw_submit" style="width: 80%;background: none;border: none;margin: 0px;margin-left: 10px;" class="name" data-loading-text="Creating..." name="commit" type="submit" value="Withdraw">
  </div>
  
<!--
  <div class="form-group required">
    <div class="col-sm-6">
      <label class="decimal required control-label" for="withdraw_sum">{{"funds.withdraw_coin.amount" | t}}</label>
    </div>
    <div class="col-sm-12">
      <div class="input-group">
        
        
      </div>
    </div>

    <span class="col-sm-6 help-block"><a href="#" ng-click="aboutfee(); $event.preventDefault()">{{"funds.withdraw_coin.fee_explain" | t}}</a></span>


  </div>-->

  <!-- <div class="form-group">
    <div class="col-sm-6">
      <label class="optional control-label">Fee</label>
    </div>
    <div class="col-sm-12">
      <p class="form-control-static"><span class="currency-fee" id="withdraw_fee"  ng-bind-html='withdrawsCtrl.withdraw.withdraw_fee'>0</span></p>
    </div>
  </div> -->
  <script>
    function updateFeeWithdraw(){
      var fee = parseFloat($('#withdraw_sum').val())*0.002
      if (isNaN(fee)){
        fee = 0
      }
      $('#withdraw_fee').html(fee)
    }
    $('#withdraw_all_btn').click(function () {
      updateFeeWithdraw()
    })
    $('#withdraw_sum').keyup(function() {
      updateFeeWithdraw()
    });

  </script>

</form>

<br>
<div class="fs16 fw700 b-color mt35 mb20 t-up">History</div>

<div class="pr20">
  <table class="tb-data">
      <tr class="title nb">
          <td class="w20">date/time</td>
          <td class="w15">Opertaion</td>
          <td class="w15">Amount</td>
          <td class="w20">STATUS</td>
          <td class="w30">memo</td>
      </tr>
  </table>
</div>
<div class="rel pr20 tl">
    <table class="tb-data table withdraw-history" ng-controller="WithdrawHistoryController as wdCtrl">
      <tbody>
        <tr class="data" ng-class="{ 'even':$index%2==1,'new-row':dhCtrl.newRecord(deposit) }" ng-repeat="withdraw in wdCtrl.withdraws | orderBy:predicate">
            <td class="w20">{{withdraw.created_at | date:'yyyy-MM-dd HH:mm'}}</td>
            <td class="w15"><div class="dib fs12 rb5 g-border t-up pl10 pr10 g-color mr10">Withdraw</div></td>
            <td class="w15">{{withdraw.amount}}</td>
            <td class="w20">
                <span class="g-color">{{"funds.deposit_history." + withdraw.aasm_state | t}}</span>
            </td>
            <td class="w30">{{withdraw.txid}}</td>
        </tr>
        <tr ng-show="wdCtrl.noWithdraw()"><td colspan="6"><span class="help-block text-center">{{ "funds.withdraw_history.no_data" | t }}</span></td></tr>
      </tbody>
    </table>
</div>
<!--
<h2 class="panel-title">{{ "funds.withdraw_history.title" | t }}</h2>

<table class="table withdraw-history" ng-controller="WithdrawHistoryController as wdCtrl">

  <tr ng-repeat="withdraw in wdCtrl.withdraws | orderBy:predicate">
    <td>{{withdraw.id}}</td>
    <td>{{withdraw.created_at | date:'yyyy-MM-dd HH:mm'}}</td>
    <td title="{{withdraw.fund_extra}} @ {{withdraw.fund_uid}}">
      <a href="{{withdraw.blockchain_url}}" target='_blank'>{{withdraw.fund_uid | truncate: 20}}</a>
    </td>
    <td>{{withdraw.amount}}</td>
    <td>{{withdraw.fee}}</td>
    <td>{{"funds.withdraw_history." + withdraw.aasm_state | t}}
      <span ng-if="wdCtrl.canCancel(withdraw.aasm_state)">/
        <a ng-click="wdCtrl.cancelWithdraw(withdraw); $event.preventDefault()" href="#" class="cancel_link">{{ "funds.withdraw_history.cancel" | t }}</a>
      </span>
    </td>
  </tr>
  <tr ng-if="wdCtrl.noWithdraw()"><td colspan="6"><span class="help-block text-center">{{"funds.withdraw_history.no_data" | t}}</span></td></tr>
</table>
-->

